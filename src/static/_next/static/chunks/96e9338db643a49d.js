(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,91801,e=>{"use strict";let t=(0,e.i(71225).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],91801)},42634,e=>{"use strict";let t=(0,e.i(71225).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],42634)},30251,e=>{"use strict";let t=(0,e.i(71225).default)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);e.s(["Play",()=>t],30251)},16554,48306,76580,e=>{"use strict";var t=e.i(81839),r=e.i(74258);function a({className:e,...a}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...a})}e.s(["Textarea",()=>a],16554);var n=/[\\\/_+.#"@\[\(\{&]/,s=/[\\\/_+.#"@\[\(\{&]/g,i=/[\s-]/,l=/[\s-]/g;function o(e){return e.toLowerCase().replace(l," ")}var d=e.i(23726),c=e.i(45833);e.i(51145);var u=e.i(24360),m=Symbol.for("react.lazy"),p=c[" use ".trim().toString()];function f(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===m&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var h=Symbol("radix.slottable");function x(e){return c.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===h}var g=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{var a,n;let s,i,l,o=(n=a=`Primitive.${r}`,(s=c.forwardRef((e,t)=>{let{children:r,...a}=e;if(f(r)&&"function"==typeof p&&(r=p(r._payload)),c.isValidElement(r)){var n;let e,s,i=(n=r,(s=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(s=(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref),l=function(e,t){let r={...t};for(let a in t){let n=e[a],s=t[a];/^on[A-Z]/.test(a)?n&&s?r[a]=(...e)=>{let t=s(...e);return n(...e),t}:n&&(r[a]=n):"style"===a?r[a]={...n,...s}:"className"===a&&(r[a]=[n,s].filter(Boolean).join(" "))}return{...e,...r}}(a,r.props);return r.type!==c.Fragment&&(l.ref=t?(0,u.composeRefs)(t,i):i),c.cloneElement(r,l)}return c.Children.count(r)>1?c.Children.only(null):null})).displayName=`${n}.SlotClone`,i=s,(l=c.forwardRef((e,r)=>{let{children:a,...n}=e;f(a)&&"function"==typeof p&&(a=p(a._payload));let s=c.Children.toArray(a),l=s.find(x);if(l){let e=l.props.children,a=s.map(t=>t!==l?t:c.Children.count(e)>1?c.Children.only(null):c.isValidElement(e)?e.props.children:null);return(0,t.jsx)(i,{...n,ref:r,children:c.isValidElement(e)?c.cloneElement(e,void 0,a):null})}return(0,t.jsx)(i,{...n,ref:r,children:a})})).displayName=`${a}.Slot`,l),d=c.forwardRef((e,a)=>{let{asChild:n,...s}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(n?o:r,{...s,ref:a})});return d.displayName=`Primitive.${r}`,{...e,[r]:d}},{}),v=e.i(13054),b=e.i(42404),y='[cmdk-group=""]',j='[cmdk-group-items=""]',w='[cmdk-item=""]',k=`${w}:not([aria-disabled="true"])`,C="cmdk-item-select",N="data-value",S=(e,t,r)=>{var a;return a=e,function e(t,r,a,o,d,c,u){if(c===r.length)return d===t.length?1:.99;var m=`${d},${c}`;if(void 0!==u[m])return u[m];for(var p,f,h,x,g=o.charAt(c),v=a.indexOf(g,d),b=0;v>=0;)(p=e(t,r,a,o,v+1,c+1,u))>b&&(v===d?p*=1:n.test(t.charAt(v-1))?(p*=.8,(h=t.slice(d,v-1).match(s))&&d>0&&(p*=Math.pow(.999,h.length))):i.test(t.charAt(v-1))?(p*=.9,(x=t.slice(d,v-1).match(l))&&d>0&&(p*=Math.pow(.999,x.length))):(p*=.17,d>0&&(p*=Math.pow(.999,v-d))),t.charAt(v)!==r.charAt(c)&&(p*=.9999)),(p<.1&&a.charAt(v-1)===o.charAt(c+1)||o.charAt(c+1)===o.charAt(c)&&a.charAt(v-1)!==o.charAt(c))&&.1*(f=e(t,r,a,o,v+1,c+2,u))>p&&(p=.1*f),p>b&&(b=p),v=a.indexOf(g,v+1);return u[m]=b,b}(a=r&&r.length>0?`${a+" "+r.join(" ")}`:a,t,o(a),o(t),0,0,{})},D=c.createContext(void 0),E=c.createContext(void 0),R=c.createContext(void 0),A=c.forwardRef((e,t)=>{let r=L(()=>{var t,r;return{search:"",value:null!=(r=null!=(t=e.value)?t:e.defaultValue)?r:"",filtered:{count:0,items:new Map,groups:new Set}}}),a=L(()=>new Set),n=L(()=>new Map),s=L(()=>new Map),i=L(()=>new Set),l=$(e),{label:o,children:d,value:u,onValueChange:m,filter:p,shouldFilter:f,loop:h,disablePointerSelection:x=!1,vimBindings:b=!0,...R}=e,A=(0,v.useId)(),P=(0,v.useId)(),_=(0,v.useId)(),I=c.useRef(null),F=G();z(()=>{if(void 0!==u){let e=u.trim();r.current.value=e,T.emit()}},[u]),z(()=>{F(6,K)},[]);let T=c.useMemo(()=>({subscribe:e=>(i.current.add(e),()=>i.current.delete(e)),snapshot:()=>r.current,setState:(e,t,a)=>{var n,s,i;if(!Object.is(r.current[e],t)){if(r.current[e]=t,"search"===e)V(),H(),F(1,B);else if("value"===e&&(a||F(5,K),(null==(n=l.current)?void 0:n.value)!==void 0)){null==(i=(s=l.current).onValueChange)||i.call(s,null!=t?t:"");return}T.emit()}},emit:()=>{i.current.forEach(e=>e())}}),[]),O=c.useMemo(()=>({value:(e,t,a)=>{var n;t!==(null==(n=s.current.get(e))?void 0:n.value)&&(s.current.set(e,{value:t,keywords:a}),r.current.filtered.items.set(e,M(t,a)),F(2,()=>{H(),T.emit()}))},item:(e,t)=>(a.current.add(e),t&&(n.current.has(t)?n.current.get(t).add(e):n.current.set(t,new Set([e]))),F(3,()=>{V(),H(),r.current.value||B(),T.emit()}),()=>{s.current.delete(e),a.current.delete(e),r.current.filtered.items.delete(e);let t=W();F(4,()=>{V(),(null==t?void 0:t.getAttribute("id"))===e&&B(),T.emit()})}),group:e=>(n.current.has(e)||n.current.set(e,new Set),()=>{s.current.delete(e),n.current.delete(e)}),filter:()=>l.current.shouldFilter,label:o||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:A,inputId:_,labelId:P,listInnerRef:I}),[]);function M(e,t){var a,n;let s=null!=(n=null==(a=l.current)?void 0:a.filter)?n:S;return e?s(e,r.current.search,t):0}function H(){if(!r.current.search||!1===l.current.shouldFilter)return;let e=r.current.filtered.items,t=[];r.current.filtered.groups.forEach(r=>{let a=n.current.get(r),s=0;a.forEach(t=>{s=Math.max(e.get(t),s)}),t.push([r,s])});let a=I.current;Z().sort((t,r)=>{var a,n;let s=t.getAttribute("id"),i=r.getAttribute("id");return(null!=(a=e.get(i))?a:0)-(null!=(n=e.get(s))?n:0)}).forEach(e=>{let t=e.closest(j);t?t.appendChild(e.parentElement===t?e:e.closest(`${j} > *`)):a.appendChild(e.parentElement===a?e:e.closest(`${j} > *`))}),t.sort((e,t)=>t[1]-e[1]).forEach(e=>{var t;let r=null==(t=I.current)?void 0:t.querySelector(`${y}[${N}="${encodeURIComponent(e[0])}"]`);null==r||r.parentElement.appendChild(r)})}function B(){let e=Z().find(e=>"true"!==e.getAttribute("aria-disabled")),t=null==e?void 0:e.getAttribute(N);T.setState("value",t||void 0)}function V(){var e,t,i,o;if(!r.current.search||!1===l.current.shouldFilter){r.current.filtered.count=a.current.size;return}r.current.filtered.groups=new Set;let d=0;for(let n of a.current){let a=M(null!=(t=null==(e=s.current.get(n))?void 0:e.value)?t:"",null!=(o=null==(i=s.current.get(n))?void 0:i.keywords)?o:[]);r.current.filtered.items.set(n,a),a>0&&d++}for(let[e,t]of n.current)for(let a of t)if(r.current.filtered.items.get(a)>0){r.current.filtered.groups.add(e);break}r.current.filtered.count=d}function K(){var e,t,r;let a=W();a&&((null==(e=a.parentElement)?void 0:e.firstChild)===a&&(null==(r=null==(t=a.closest(y))?void 0:t.querySelector('[cmdk-group-heading=""]'))||r.scrollIntoView({block:"nearest"})),a.scrollIntoView({block:"nearest"}))}function W(){var e;return null==(e=I.current)?void 0:e.querySelector(`${w}[aria-selected="true"]`)}function Z(){var e;return Array.from((null==(e=I.current)?void 0:e.querySelectorAll(k))||[])}function J(e){let t=Z()[e];t&&T.setState("value",t.getAttribute(N))}function X(e){var t;let r=W(),a=Z(),n=a.findIndex(e=>e===r),s=a[n+e];null!=(t=l.current)&&t.loop&&(s=n+e<0?a[a.length-1]:n+e===a.length?a[0]:a[n+e]),s&&T.setState("value",s.getAttribute(N))}function Y(e){let t=W(),r=null==t?void 0:t.closest(y),a;for(;r&&!a;)a=null==(r=e>0?function(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}(r,y):function(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}(r,y))?void 0:r.querySelector(k);a?T.setState("value",a.getAttribute(N)):X(e)}let Q=()=>J(Z().length-1),ee=e=>{e.preventDefault(),e.metaKey?Q():e.altKey?Y(1):X(1)},et=e=>{e.preventDefault(),e.metaKey?J(0):e.altKey?Y(-1):X(-1)};return c.createElement(g.div,{ref:t,tabIndex:-1,...R,"cmdk-root":"",onKeyDown:e=>{var t;if(null==(t=R.onKeyDown)||t.call(R,e),!e.defaultPrevented)switch(e.key){case"n":case"j":b&&e.ctrlKey&&ee(e);break;case"ArrowDown":ee(e);break;case"p":case"k":b&&e.ctrlKey&&et(e);break;case"ArrowUp":et(e);break;case"Home":e.preventDefault(),J(0);break;case"End":e.preventDefault(),Q();break;case"Enter":if(!e.nativeEvent.isComposing&&229!==e.keyCode){e.preventDefault();let t=W();if(t){let e=new Event(C);t.dispatchEvent(e)}}}}},c.createElement("label",{"cmdk-label":"",htmlFor:O.inputId,id:O.labelId,style:q},o),U(e,e=>c.createElement(E.Provider,{value:T},c.createElement(D.Provider,{value:O},e))))}),P=c.forwardRef((e,t)=>{var r,a;let n=(0,v.useId)(),s=c.useRef(null),i=c.useContext(R),l=c.useContext(D),o=$(e),d=null!=(a=null==(r=o.current)?void 0:r.forceMount)?a:null==i?void 0:i.forceMount;z(()=>{if(!d)return l.item(n,null==i?void 0:i.id)},[d]);let u=V(n,s,[e.value,e.children,s],e.keywords),m=c.useContext(E),p=B(e=>e.value&&e.value===u.current),f=B(e=>!!d||!1===l.filter()||!e.search||e.filtered.items.get(n)>0);function h(){var e,t;x(),null==(t=(e=o.current).onSelect)||t.call(e,u.current)}function x(){m.setState("value",u.current,!0)}if(c.useEffect(()=>{let t=s.current;if(!(!t||e.disabled))return t.addEventListener(C,h),()=>t.removeEventListener(C,h)},[f,e.onSelect,e.disabled]),!f)return null;let{disabled:b,value:y,onSelect:j,forceMount:w,keywords:k,...N}=e;return c.createElement(g.div,{ref:H([s,t]),...N,id:n,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!p,"data-disabled":!!b,"data-selected":!!p,onPointerMove:b||l.getDisablePointerSelection()?void 0:x,onClick:b?void 0:h},e.children)}),_=c.forwardRef((e,t)=>{let{heading:r,children:a,forceMount:n,...s}=e,i=(0,v.useId)(),l=c.useRef(null),o=c.useRef(null),d=(0,v.useId)(),u=c.useContext(D),m=B(e=>!!n||!1===u.filter()||!e.search||e.filtered.groups.has(i));z(()=>u.group(i),[]),V(i,l,[e.value,e.heading,o]);let p=c.useMemo(()=>({id:i,forceMount:n}),[n]);return c.createElement(g.div,{ref:H([l,t]),...s,"cmdk-group":"",role:"presentation",hidden:!m||void 0},r&&c.createElement("div",{ref:o,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),U(e,e=>c.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},c.createElement(R.Provider,{value:p},e))))}),I=c.forwardRef((e,t)=>{let{alwaysRender:r,...a}=e,n=c.useRef(null),s=B(e=>!e.search);return r||s?c.createElement(g.div,{ref:H([n,t]),...a,"cmdk-separator":"",role:"separator"}):null}),F=c.forwardRef((e,t)=>{let{onValueChange:r,...a}=e,n=null!=e.value,s=c.useContext(E),i=B(e=>e.search),l=B(e=>e.value),o=c.useContext(D),d=c.useMemo(()=>{var e;let t=null==(e=o.listInnerRef.current)?void 0:e.querySelector(`${w}[${N}="${encodeURIComponent(l)}"]`);return null==t?void 0:t.getAttribute("id")},[]);return c.useEffect(()=>{null!=e.value&&s.setState("search",e.value)},[e.value]),c.createElement(g.input,{ref:t,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":o.listId,"aria-labelledby":o.labelId,"aria-activedescendant":d,id:o.inputId,type:"text",value:n?e.value:i,onChange:e=>{n||s.setState("search",e.target.value),null==r||r(e.target.value)}})}),T=c.forwardRef((e,t)=>{let{children:r,label:a="Suggestions",...n}=e,s=c.useRef(null),i=c.useRef(null),l=c.useContext(D);return c.useEffect(()=>{if(i.current&&s.current){let e=i.current,t=s.current,r,a=new ResizeObserver(()=>{r=requestAnimationFrame(()=>{let r=e.offsetHeight;t.style.setProperty("--cmdk-list-height",r.toFixed(1)+"px")})});return a.observe(e),()=>{cancelAnimationFrame(r),a.unobserve(e)}}},[]),c.createElement(g.div,{ref:H([s,t]),...n,"cmdk-list":"",role:"listbox","aria-label":a,id:l.listId},U(e,e=>c.createElement("div",{ref:H([i,l.listInnerRef]),"cmdk-list-sizer":""},e)))}),O=c.forwardRef((e,t)=>{let{open:r,onOpenChange:a,overlayClassName:n,contentClassName:s,container:i,...l}=e;return c.createElement(d.Root,{open:r,onOpenChange:a},c.createElement(d.Portal,{container:i},c.createElement(d.Overlay,{"cmdk-overlay":"",className:n}),c.createElement(d.Content,{"aria-label":e.label,"cmdk-dialog":"",className:s},c.createElement(A,{ref:t,...l}))))}),M=Object.assign(A,{List:T,Item:P,Input:F,Group:_,Separator:I,Dialog:O,Empty:c.forwardRef((e,t)=>B(e=>0===e.filtered.count)?c.createElement(g.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Loading:c.forwardRef((e,t)=>{let{progress:r,children:a,label:n="Loading...",...s}=e;return c.createElement(g.div,{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":n},U(e,e=>c.createElement("div",{"aria-hidden":!0},e)))})});function $(e){let t=c.useRef(e);return z(()=>{t.current=e}),t}var z="undefined"==typeof window?c.useEffect:c.useLayoutEffect;function L(e){let t=c.useRef();return void 0===t.current&&(t.current=e()),t}function H(e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}function B(e){let t=c.useContext(E),r=()=>e(t.snapshot());return(0,b.useSyncExternalStore)(t.subscribe,r,r)}function V(e,t,r,a=[]){let n=c.useRef(),s=c.useContext(D);return z(()=>{var i;let l=(()=>{var e;for(let t of r){if("string"==typeof t)return t.trim();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim():n.current}})(),o=a.map(e=>e.trim());s.value(e,l,o),null==(i=t.current)||i.setAttribute(N,l),n.current=l}),n}var G=()=>{let[e,t]=c.useState(),r=L(()=>new Map);return z(()=>{r.current.forEach(e=>e()),r.current=new Map},[e]),(e,a)=>{r.current.set(e,a),t({})}};function U({asChild:e,children:t},r){let a;return e&&c.isValidElement(t)?c.cloneElement("function"==typeof(a=t.type)?a(t.props):"render"in a?a.render(t.props):t,{ref:t.ref},r(t.props.children)):r(t)}var q={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function K({className:e,...a}){return(0,t.jsx)(M,{"data-slot":"command",className:(0,r.cn)("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...a})}function W({className:e,...a}){return(0,t.jsx)(M.List,{"data-slot":"command-list",className:(0,r.cn)("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...a})}function Z({className:e,...a}){return(0,t.jsx)(M.Group,{"data-slot":"command-group",className:(0,r.cn)("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...a})}function J({className:e,...a}){return(0,t.jsx)(M.Item,{"data-slot":"command-item",className:(0,r.cn)("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a})}e.i(93767),e.i(82562),e.s(["Command",()=>K,"CommandGroup",()=>Z,"CommandItem",()=>J,"CommandList",()=>W],48306);var X=e.i(4835),Y=e.i(59409),Q=e.i(25269),ee=e.i(18580),et=e.i(97547),er=e.i(29906),ea=e.i(30301),en=e.i(72786),es="Checkbox",[ei,el]=(0,Y.createContextScope)(es),[eo,ed]=ei(es),ec=c.forwardRef((e,r)=>{let{__scopeCheckbox:a,name:n,checked:s,defaultChecked:i,required:l,disabled:o,value:d="on",onCheckedChange:u,form:m,...p}=e,[f,h]=c.useState(null),x=(0,X.useComposedRefs)(r,e=>h(e)),g=c.useRef(!1),v=!f||m||!!f.closest("form"),[b=!1,y]=(0,ee.useControllableState)({prop:s,defaultProp:i,onChange:u}),j=c.useRef(b);return c.useEffect(()=>{let e=f?.form;if(e){let t=()=>y(j.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[f,y]),(0,t.jsxs)(eo,{scope:a,state:b,disabled:o,children:[(0,t.jsx)(en.Primitive.button,{type:"button",role:"checkbox","aria-checked":ef(b)?"mixed":b,"aria-required":l,"data-state":eh(b),"data-disabled":o?"":void 0,disabled:o,value:d,...p,ref:x,onKeyDown:(0,Q.composeEventHandlers)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,Q.composeEventHandlers)(e.onClick,e=>{y(e=>!!ef(e)||!e),v&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})}),v&&(0,t.jsx)(ep,{control:f,bubbles:!g.current,name:n,value:d,checked:b,required:l,disabled:o,form:m,style:{transform:"translateX(-100%)"},defaultChecked:!ef(i)&&i})]})});ec.displayName=es;var eu="CheckboxIndicator",em=c.forwardRef((e,r)=>{let{__scopeCheckbox:a,forceMount:n,...s}=e,i=ed(eu,a);return(0,t.jsx)(ea.Presence,{present:n||ef(i.state)||!0===i.state,children:(0,t.jsx)(en.Primitive.span,{"data-state":eh(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:r,style:{pointerEvents:"none",...e.style}})})});em.displayName=eu;var ep=e=>{let{control:r,checked:a,bubbles:n=!0,defaultChecked:s,...i}=e,l=c.useRef(null),o=(0,et.usePrevious)(a),d=(0,er.useSize)(r);c.useEffect(()=>{let e=l.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==a&&t){let r=new Event("click",{bubbles:n});e.indeterminate=ef(a),t.call(e,!ef(a)&&a),e.dispatchEvent(r)}},[o,a,n]);let u=c.useRef(!ef(a)&&a);return(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...i,tabIndex:-1,ref:l,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ef(e){return"indeterminate"===e}function eh(e){return ef(e)?"indeterminate":e?"checked":"unchecked"}var ex=e.i(88172);function eg({className:e,...a}){return(0,t.jsx)(ec,{"data-slot":"checkbox",className:(0,r.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:(0,t.jsx)(em,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,t.jsx)(ex.CheckIcon,{className:"size-3.5"})})})}e.s(["Checkbox",()=>eg],76580)},66570,e=>{"use strict";let t=(0,e.i(71225).default)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);e.s(["Pencil",()=>t],66570)},92180,62879,e=>{"use strict";var t=e.i(81839),r=e.i(45833),a=e.i(67989),n=e.i(82562),s=e.i(88190),i=e.i(82808),l=e.i(47687),o=e.i(16554),d=e.i(34579),c=e.i(48306),u=e.i(76580),m=e.i(40310),p=e.i(20247),f=e.i(64401),h=e.i(30251),x=e.i(91801),g=e.i(66570),v=e.i(42634),b=e.i(39085),y=e.i(59854);let j=(0,e.i(71225).default)("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);var w=e.i(74258),k=e.i(56638),C=e.i(59409),N=e.i(4835),S=e.i(25269),D=e.i(79744),E=e.i(18580),R=e.i(85260),A=e.i(18742),P=e.i(19172),_=e.i(30301),I=e.i(72786),F=e.i(68668),T=e.i(46299),O=e.i(79567),M=e.i(5368),$="Dialog",[z,L]=(0,C.createContextScope)($),[H,B]=z($),V=e=>{let{__scopeDialog:a,children:n,open:s,defaultOpen:i,onOpenChange:l,modal:o=!0}=e,d=r.useRef(null),c=r.useRef(null),[u=!1,m]=(0,E.useControllableState)({prop:s,defaultProp:i,onChange:l});return(0,t.jsx)(H,{scope:a,triggerRef:d,contentRef:c,contentId:(0,D.useId)(),titleId:(0,D.useId)(),descriptionId:(0,D.useId)(),open:u,onOpenChange:m,onOpenToggle:r.useCallback(()=>m(e=>!e),[m]),modal:o,children:n})};V.displayName=$;var G="DialogTrigger",U=r.forwardRef((e,r)=>{let{__scopeDialog:a,...n}=e,s=B(G,a),i=(0,N.useComposedRefs)(r,s.triggerRef);return(0,t.jsx)(I.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ec(s.open),...n,ref:i,onClick:(0,S.composeEventHandlers)(e.onClick,s.onOpenToggle)})});U.displayName=G;var q="DialogPortal",[K,W]=z(q,{forceMount:void 0}),Z=e=>{let{__scopeDialog:a,forceMount:n,children:s,container:i}=e,l=B(q,a);return(0,t.jsx)(K,{scope:a,forceMount:n,children:r.Children.map(s,e=>(0,t.jsx)(_.Presence,{present:n||l.open,children:(0,t.jsx)(P.Portal,{asChild:!0,container:i,children:e})}))})};Z.displayName=q;var J="DialogOverlay",X=r.forwardRef((e,r)=>{let a=W(J,e.__scopeDialog),{forceMount:n=a.forceMount,...s}=e,i=B(J,e.__scopeDialog);return i.modal?(0,t.jsx)(_.Presence,{present:n||i.open,children:(0,t.jsx)(Y,{...s,ref:r})}):null});X.displayName=J;var Y=r.forwardRef((e,r)=>{let{__scopeDialog:a,...n}=e,s=B(J,a);return(0,t.jsx)(T.RemoveScroll,{as:M.Slot,allowPinchZoom:!0,shards:[s.contentRef],children:(0,t.jsx)(I.Primitive.div,{"data-state":ec(s.open),...n,ref:r,style:{pointerEvents:"auto",...n.style}})})}),Q="DialogContent",ee=r.forwardRef((e,r)=>{let a=W(Q,e.__scopeDialog),{forceMount:n=a.forceMount,...s}=e,i=B(Q,e.__scopeDialog);return(0,t.jsx)(_.Presence,{present:n||i.open,children:i.modal?(0,t.jsx)(et,{...s,ref:r}):(0,t.jsx)(er,{...s,ref:r})})});ee.displayName=Q;var et=r.forwardRef((e,a)=>{let n=B(Q,e.__scopeDialog),s=r.useRef(null),i=(0,N.useComposedRefs)(a,n.contentRef,s);return r.useEffect(()=>{let e=s.current;if(e)return(0,O.hideOthers)(e)},[]),(0,t.jsx)(ea,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,S.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:(0,S.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,S.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),er=r.forwardRef((e,a)=>{let n=B(Q,e.__scopeDialog),s=r.useRef(!1),i=r.useRef(!1);return(0,t.jsx)(ea,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(s.current||n.triggerRef.current?.focus(),t.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(s.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));let r=t.target;n.triggerRef.current?.contains(r)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),ea=r.forwardRef((e,a)=>{let{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:l,...o}=e,d=B(Q,n),c=r.useRef(null),u=(0,N.useComposedRefs)(a,c);return(0,F.useFocusGuards)(),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.FocusScope,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:l,children:(0,t.jsx)(R.DismissableLayer,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":ec(d.open),...o,ref:u,onDismiss:()=>d.onOpenChange(!1)})}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ef,{titleId:d.titleId}),(0,t.jsx)(eh,{contentRef:c,descriptionId:d.descriptionId})]})]})}),en="DialogTitle",es=r.forwardRef((e,r)=>{let{__scopeDialog:a,...n}=e,s=B(en,a);return(0,t.jsx)(I.Primitive.h2,{id:s.titleId,...n,ref:r})});es.displayName=en;var ei="DialogDescription",el=r.forwardRef((e,r)=>{let{__scopeDialog:a,...n}=e,s=B(ei,a);return(0,t.jsx)(I.Primitive.p,{id:s.descriptionId,...n,ref:r})});el.displayName=ei;var eo="DialogClose",ed=r.forwardRef((e,r)=>{let{__scopeDialog:a,...n}=e,s=B(eo,a);return(0,t.jsx)(I.Primitive.button,{type:"button",...n,ref:r,onClick:(0,S.composeEventHandlers)(e.onClick,()=>s.onOpenChange(!1))})});function ec(e){return e?"open":"closed"}ed.displayName=eo;var eu="DialogTitleWarning",[em,ep]=(0,C.createContext)(eu,{contentName:Q,titleName:en,docsSlug:"dialog"}),ef=({titleId:e})=>{let t=ep(eu),a=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return r.useEffect(()=>{e&&(document.getElementById(e)||console.error(a))},[a,e]),null},eh=({contentRef:e,descriptionId:t})=>{let a=ep("DialogDescriptionWarning"),n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${a.contentName}}.`;return r.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},ex="AlertDialog",[eg,ev]=(0,C.createContextScope)(ex,[L]),eb=L(),ey=e=>{let{__scopeAlertDialog:r,...a}=e,n=eb(r);return(0,t.jsx)(V,{...n,...a,modal:!0})};ey.displayName=ex,r.forwardRef((e,r)=>{let{__scopeAlertDialog:a,...n}=e,s=eb(a);return(0,t.jsx)(U,{...s,...n,ref:r})}).displayName="AlertDialogTrigger";var ej=e=>{let{__scopeAlertDialog:r,...a}=e,n=eb(r);return(0,t.jsx)(Z,{...n,...a})};ej.displayName="AlertDialogPortal";var ew=r.forwardRef((e,r)=>{let{__scopeAlertDialog:a,...n}=e,s=eb(a);return(0,t.jsx)(X,{...s,...n,ref:r})});ew.displayName="AlertDialogOverlay";var ek="AlertDialogContent",[eC,eN]=eg(ek),eS=r.forwardRef((e,a)=>{let{__scopeAlertDialog:n,children:s,...i}=e,l=eb(n),o=r.useRef(null),d=(0,N.useComposedRefs)(a,o),c=r.useRef(null);return(0,t.jsx)(em,{contentName:ek,titleName:eD,docsSlug:"alert-dialog",children:(0,t.jsx)(eC,{scope:n,cancelRef:c,children:(0,t.jsxs)(ee,{role:"alertdialog",...l,...i,ref:d,onOpenAutoFocus:(0,S.composeEventHandlers)(i.onOpenAutoFocus,e=>{e.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,t.jsx)(M.Slottable,{children:s}),(0,t.jsx)(eF,{contentRef:o})]})})})});eS.displayName=ek;var eD="AlertDialogTitle",eE=r.forwardRef((e,r)=>{let{__scopeAlertDialog:a,...n}=e,s=eb(a);return(0,t.jsx)(es,{...s,...n,ref:r})});eE.displayName=eD;var eR="AlertDialogDescription",eA=r.forwardRef((e,r)=>{let{__scopeAlertDialog:a,...n}=e,s=eb(a);return(0,t.jsx)(el,{...s,...n,ref:r})});eA.displayName=eR;var eP=r.forwardRef((e,r)=>{let{__scopeAlertDialog:a,...n}=e,s=eb(a);return(0,t.jsx)(ed,{...s,...n,ref:r})});eP.displayName="AlertDialogAction";var e_="AlertDialogCancel",eI=r.forwardRef((e,r)=>{let{__scopeAlertDialog:a,...n}=e,{cancelRef:s}=eN(e_,a),i=eb(a),l=(0,N.useComposedRefs)(r,s);return(0,t.jsx)(ed,{...i,...n,ref:l})});eI.displayName=e_;var eF=({contentRef:e})=>{let t=`\`${ek}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ek}\` by passing a \`${eR}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ek}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return r.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null};function eT({...e}){return(0,t.jsx)(ey,{"data-slot":"alert-dialog",...e})}function eO({...e}){return(0,t.jsx)(ej,{"data-slot":"alert-dialog-portal",...e})}function eM({className:e,...r}){return(0,t.jsx)(ew,{"data-slot":"alert-dialog-overlay",className:(0,w.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...r})}function e$({className:e,...r}){return(0,t.jsxs)(eO,{children:[(0,t.jsx)(eM,{}),(0,t.jsx)(eS,{"data-slot":"alert-dialog-content",className:(0,w.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r})]})}function ez({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,w.cn)("flex flex-col gap-2 text-center sm:text-left",e),...r})}function eL({className:e,...r}){return(0,t.jsx)(eE,{"data-slot":"alert-dialog-title",className:(0,w.cn)("text-lg font-semibold",e),...r})}function eH({className:e,...r}){return(0,t.jsx)(eA,{"data-slot":"alert-dialog-description",className:(0,w.cn)("text-muted-foreground text-sm",e),...r})}function eB({className:e,...r}){return(0,t.jsx)(eP,{className:(0,w.cn)((0,i.buttonVariants)(),e),...r})}function eV({className:e,...r}){return(0,t.jsx)(eI,{className:(0,w.cn)((0,i.buttonVariants)({variant:"outline"}),e),...r})}e.s(["AlertDialog",()=>eT,"AlertDialogAction",()=>eB,"AlertDialogCancel",()=>eV,"AlertDialogContent",()=>e$,"AlertDialogDescription",()=>eH,"AlertDialogHeader",()=>ez,"AlertDialogTitle",()=>eL],62879);var eG=e.i(16636);function eU({open:e,onOpenChange:a,scenarioId:s,onSuccess:d}){let[c,u]=(0,r.useState)(15),[m,h]=(0,r.useState)("friction"),[x,g]=(0,r.useState)(""),[v,y]=(0,r.useState)(!1),j=async()=>{if(console.log("handleGenerate called",{scenarioId:s,numTasks:c,promptType:m,customPrompt:x}),c<1)return void p.toast.error("Number of tasks must be at least 1");y(!0);try{let e=await k.scenarioApi.generateMoreTasks(s,{num_tasks:c,prompt_type:m,custom_prompt:x||void 0});p.toast.success("Tasks generated successfully!",{description:`Generated ${e.new_tasks.length} new tasks`}),d(),a(!1),u(15),h("friction"),g("")}catch(t){let e=t instanceof Error?t.message:"Task generation failed";p.toast.error("Generation failed",{description:e})}finally{y(!1)}};return(0,t.jsx)(n.Dialog,{open:e,onOpenChange:a,children:(0,t.jsxs)(n.DialogContent,{className:"max-w-2xl",children:[(0,t.jsxs)(n.DialogHeader,{children:[(0,t.jsxs)(n.DialogTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(b.Sparkles,{className:"w-5 h-5"}),"Generate More Tasks"]}),(0,t.jsx)(n.DialogDescription,{children:"Generate additional tasks for this scenario using AI. New tasks will be automatically selected."})]}),(0,t.jsxs)("div",{className:"space-y-6 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eG.Label,{htmlFor:"num-tasks",children:"Number of Tasks"}),(0,t.jsx)(l.Input,{id:"num-tasks",type:"number",min:1,value:c,onChange:e=>u(parseInt(e.target.value)||5)}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Recommended: 3-8 tasks for focused testing"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eG.Label,{htmlFor:"custom-prompt",children:"Custom Instructions (Optional)"}),(0,t.jsx)(o.Textarea,{id:"custom-prompt",placeholder:"Add specific instructions to customize task generation, e.g., 'Focus on mobile checkout flow' or 'Test international shipping scenarios'",rows:4,value:x,onChange:e=>g(e.target.value)}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"These instructions will be included in the prompt to tailor task generation"})]})]}),(0,t.jsxs)(n.DialogFooter,{children:[(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>a(!1),disabled:v,children:"Cancel"}),(0,t.jsx)(i.Button,{type:"button",onClick:j,disabled:v,children:v?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.Sparkles,{className:"w-4 h-4 mr-2"}),"Generate ",c," Tasks"]})})]})]})})}let eq=["First-time Visitor","Web Shopper","Mobile Shopper","Power User","Free Trial User","Demo Requester",,"Subscription Manager","Support Seeker","Feature Explorer"];function eK({open:e,onOpenChange:C,mode:N,scenario:S,analysisResult:D,createFormData:E,onSave:R,onUpdate:A,onDelete:P,onRun:_}){(0,a.useRouter)();let[I,F]=(0,r.useState)(new Set),[T,O]=(0,r.useState)([]),[M,$]=(0,r.useState)(!1),[z,L]=(0,r.useState)(!1),[H,B]=(0,r.useState)(!1),[V,G]=(0,r.useState)(!1),[U,q]=(0,r.useState)(!1),[K,W]=(0,r.useState)(!1),[Z,J]=(0,r.useState)(new Set),[X,Y]=(0,r.useState)(null),[Q,ee]=(0,r.useState)(!1),[et,er]=(0,r.useState)(!1);(0,r.useEffect)(()=>{e&&("create"===N&&D?.tasks?(O(D.tasks),F(new Set(D.tasks.map(e=>e.number))),$(!1)):"edit"===N&&S&&(O(S.tasks||[]),F(new Set(S.tasks_metadata?.selected_task_numbers||[])),$(!1)))},[e,N,D,S]);let ea="create"===N?D?.tasks_metadata:S?.tasks_metadata,en="create"===N?D?.crawler_summary:S?.crawler_final_result,es=e=>{F(t=>{let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})},ei=async()=>{L(!0);try{if("create"===N){if(!D||!E)return void p.toast.error("Missing required data for scenario creation");let e={name:E.name,website_url:E.website_url,description:E.description||"",personas:["crawler"],metrics:E.metrics,email:E.email,tasks:T,selected_task_indices:Array.from(I).map(e=>T.findIndex(t=>t.number===e)),tasks_metadata:D.tasks_metadata||{total_tasks:0,persona_distribution:{}},discovered_urls:[],crawler_final_result:D.crawler_summary||"",crawler_extracted_content:D.crawler_extracted_content||""},t=await k.crawlerApi.save(e);p.toast.success("Scenario saved successfully!",{description:`Created scenario with ${I.size} tasks`}),R?.(t.id),C(!1)}else{if(!S)return void p.toast.error("Scenario not found");M?await k.scenarioApi.updateTasksFull(S.id,T,Array.from(I)):await k.scenarioApi.updateTasks(S.id,Array.from(I)),p.toast.success("Scenario updated successfully!",{description:`Updated with ${I.size} selected tasks`}),A?.(S.id),C(!1)}}catch(t){let e=t instanceof Error?t.message:"Operation failed";p.toast.error("create"===N?"Save failed":"Update failed",{description:e})}finally{L(!1)}},el=async()=>{if(S&&_){G(!0);try{let e=S.tasks_metadata?.selected_task_numbers||[],t=Array.from(I),r=e.length!==t.length||!e.every(e=>t.includes(e));(M||r)&&(p.toast.info("Saving changes before running..."),M?await k.scenarioApi.updateTasksFull(S.id,T,t):await k.scenarioApi.updateTasks(S.id,t)),await _(S),C(!1)}catch(t){let e=t instanceof Error?t.message:"Failed to run scenario";p.toast.error(e)}finally{G(!1)}}},eo=async()=>{if(S){B(!0);try{await k.scenarioApi.delete(S.id),p.toast.success("Scenario deleted successfully"),P?.(S.id),q(!1),C(!1)}catch(t){let e=t instanceof Error?t.message:"Delete failed";p.toast.error("Delete failed",{description:e})}finally{B(!1)}}},ed=async()=>{if("edit"===N&&S)try{let e=await k.scenarioApi.get(S.id);O(e.tasks||[]);let t=e.tasks_metadata?.selected_task_numbers||[];F(new Set(t)),p.toast.success("Tasks refreshed")}catch(e){console.error("Failed to refresh tasks:",e)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Dialog,{open:e,onOpenChange:C,children:(0,t.jsxs)(n.DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,t.jsxs)(n.DialogHeader,{children:[(0,t.jsx)(n.DialogTitle,{className:"text-2xl",children:"create"===N?"Scenario Analysis Complete":"Edit Scenario Personas to Run"}),(0,t.jsx)(n.DialogDescription,{children:"create"===N?"Review the generated tasks and select which ones to include in your scenario":"Update task selection or add new tasks for this scenario"})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-6 pr-4",children:[!T.length&&(0,t.jsxs)(s.Card,{className:"border-amber-200 bg-amber-50",children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsx)(s.CardTitle,{className:"text-sm text-amber-900",children:"No Tasks Available"})}),(0,t.jsx)(s.CardContent,{className:"text-sm text-amber-800",children:'This scenario doesn\'t have any personas yet. Click "Add Persona" to create one.'})]}),en&&(()=>{let e=null;try{let t="string"==typeof en?JSON.parse(en):en;e=t?.context||null}catch{}return e?(0,t.jsxs)(s.Card,{children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsx)(s.CardTitle,{className:"text-lg",children:"Website Analysis Summary"})}),(0,t.jsxs)(s.CardContent,{className:"space-y-3",children:[e.summary&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-foreground",children:"Summary"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.summary})]}),e.target_audience&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-foreground",children:"Target Audience"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.target_audience})]}),e.value_proposition&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-foreground",children:"Value Proposition"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.value_proposition})]}),e.vertical&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-foreground",children:"Vertical"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.vertical})]})]})]}):null})(),ea?.persona_distribution&&Object.keys(ea.persona_distribution).length>0&&(0,t.jsxs)(s.Card,{children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsx)(s.CardTitle,{className:"text-lg",children:"Persona Distribution"})}),(0,t.jsxs)(s.CardContent,{children:[(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.entries(ea.persona_distribution).map(([e,r])=>{let a=Z.has(e);return(0,t.jsxs)("button",{type:"button",onClick:()=>{J(t=>{let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})},className:(0,w.cn)("flex items-center justify-between p-3 rounded transition-all duration-150","border hover:border-primary/50 cursor-pointer",a?"bg-primary/10 border-primary ring-1 ring-primary/30":"bg-muted border-transparent hover:bg-muted/80"),children:[(0,t.jsx)("span",{className:(0,w.cn)("text-sm font-medium",a&&"text-primary"),children:e}),(0,t.jsx)(m.Badge,{variant:a?"default":"secondary",children:String(r)})]},e)})}),Z.size>0&&(0,t.jsxs)("button",{type:"button",onClick:()=>J(new Set),className:"mt-3 text-xs text-muted-foreground hover:text-foreground underline underline-offset-2 transition-colors",children:["Clear filters (",Z.size," active)"]})]})]}),ea?.error&&(0,t.jsxs)(s.Card,{className:"border-amber-200 bg-amber-50",children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsx)(s.CardTitle,{className:"text-sm text-amber-900",children:"Task Generation Warning"})}),(0,t.jsx)(s.CardContent,{className:"text-sm text-amber-800",children:ea.error})]}),(0,t.jsxs)(s.Card,{children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(s.CardTitle,{className:"text-lg",children:["Personas to Run (",T.length,")"]}),(0,t.jsxs)(s.CardDescription,{children:["Selected: ",I.size," of ",T.length]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:["edit"===N&&(0,t.jsxs)(i.Button,{onClick:()=>W(!0),size:"sm",variant:"default",children:[(0,t.jsx)(b.Sparkles,{className:"w-4 h-4 mr-1"}),"Generate More Tasks"]}),(0,t.jsxs)(i.Button,{onClick:()=>{Y({number:T.length>0?Math.max(...T.map(e=>e.number))+1:1,persona:eq[0]||"Explorer",starting_url:S?.website_url||E?.website_url||"",goal:"",steps:""}),ee(!0)},size:"sm",variant:"outline",children:[(0,t.jsx)(x.Plus,{className:"w-4 h-4 mr-1"}),"Add Persona"]})]})]})}),(0,t.jsx)(s.CardContent,{className:"space-y-4",children:T.filter(e=>0===Z.size||Z.has(e.persona)).map(e=>(0,t.jsx)("div",{className:(0,w.cn)("border rounded-lg p-4 transition-colors cursor-pointer group",I.has(e.number)?"border-primary bg-primary/5":"border-border hover:border-primary/50"),onClick:()=>es(e.number),children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(u.Checkbox,{checked:I.has(e.number),onCheckedChange:()=>es(e.number),onClick:e=>e.stopPropagation()}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"font-semibold",children:["Persona Run ",e.number]}),(0,t.jsx)(m.Badge,{variant:"outline",className:"text-xs",children:e.persona})]}),(0,t.jsxs)("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,t.jsx)(i.Button,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:t=>{t.stopPropagation(),Y({...e}),ee(!0)},children:(0,t.jsx)(g.Pencil,{className:"w-3.5 h-3.5"})}),(0,t.jsx)(i.Button,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:t=>{var r;return r=e.number,void(t.stopPropagation(),O(e=>e.filter(e=>e.number!==r)),F(e=>{let t=new Set(e);return t.delete(r),t}),$(!0),p.toast.success("Persona deleted"))},children:(0,t.jsx)(v.Trash2,{className:"w-3.5 h-3.5"})})]})]}),(0,t.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,t.jsxs)("p",{className:"text-muted-foreground",children:[(0,t.jsx)("span",{className:"font-medium",children:"Starting URL:"})," ",(0,t.jsx)("span",{className:"break-all",children:e.starting_url})]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Goal:"})," ",e.goal]}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:[(0,t.jsx)("span",{className:"font-medium",children:"Steps:"})," ",e.steps]}),e.stop&&(0,t.jsxs)("p",{className:"text-muted-foreground",children:[(0,t.jsx)("span",{className:"font-medium",children:"Stop:"})," ",e.stop]})]})]})]})},e.number))})]})]}),(0,t.jsx)(n.DialogFooter,{className:"mt-4 border-t pt-4",children:(0,t.jsxs)("div",{className:"flex justify-between w-full",children:[(0,t.jsx)("div",{className:"flex gap-2",children:"edit"===N&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Button,{variant:"default",onClick:el,disabled:V||z||0===I.size,children:V?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Starting..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Play,{className:"w-4 h-4 mr-2"}),"Run Selected Personas"]})}),(0,t.jsx)(i.Button,{variant:"destructive",onClick:()=>q(!0),disabled:H||z||V,children:"Delete Scenario"})]})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>C(!1),children:"create"===N?"Cancel":"Close"}),(0,t.jsx)(i.Button,{onClick:ei,disabled:z||V,children:z?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"create"===N?"Saving...":"Updating..."]}):(0,t.jsx)(t.Fragment,{children:"create"===N?`Save Scenario (${I.size} personas)`:`Save Changes (${I.size} personas)`})})]})]})})]})}),(0,t.jsx)(n.Dialog,{open:Q,onOpenChange:ee,children:(0,t.jsxs)(n.DialogContent,{className:"max-w-lg",children:[(0,t.jsx)(n.DialogHeader,{children:(0,t.jsx)(n.DialogTitle,{children:X&&T.find(e=>e.number===X.number)?"Edit Persona":"Add New Persona"})}),X&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-1.5 block",children:"Persona"}),(0,t.jsxs)(d.Popover,{open:et,onOpenChange:er,children:[(0,t.jsx)(d.PopoverTrigger,{asChild:!0,children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(l.Input,{value:X.persona,onChange:e=>Y({...X,persona:e.target.value}),onFocus:()=>er(!0),placeholder:"Type or select a persona...",className:"pr-8"}),(0,t.jsx)(j,{className:"absolute right-2 top-1/2 -translate-y-1/2 h-4 w-4 opacity-50 pointer-events-none"})]})}),(0,t.jsx)(d.PopoverContent,{className:"w-[--radix-popover-trigger-width] p-0",align:"start",onOpenAutoFocus:e=>e.preventDefault(),children:(0,t.jsx)(c.Command,{children:(0,t.jsx)(c.CommandList,{className:"max-h-48 overflow-y-auto",children:(0,t.jsx)(c.CommandGroup,{heading:"Suggested Personas",children:eq.filter(e=>e.toLowerCase().includes(X.persona.toLowerCase())).map(e=>(0,t.jsxs)(c.CommandItem,{value:e,onSelect:()=>{Y({...X,persona:e}),er(!1)},children:[(0,t.jsx)(y.Check,{className:(0,w.cn)("mr-2 h-4 w-4",X.persona===e?"opacity-100":"opacity-0")}),e]},e))})})})})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Select from suggestions or type your own custom persona"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-1.5 block",children:"Starting URL"}),(0,t.jsx)(l.Input,{value:X.starting_url,onChange:e=>Y({...X,starting_url:e.target.value}),placeholder:"https://example.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-1.5 block",children:"Goal *"}),(0,t.jsx)(l.Input,{value:X.goal,onChange:e=>Y({...X,goal:e.target.value}),placeholder:"What should the persona accomplish?"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-1.5 block",children:"Steps"}),(0,t.jsx)(o.Textarea,{value:X.steps,onChange:e=>Y({...X,steps:e.target.value}),placeholder:"Describe the steps to complete the goal...",rows:4})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 pt-2",children:[(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>ee(!1),children:"Cancel"}),(0,t.jsx)(i.Button,{onClick:()=>{if(!X)return;if(!X.goal.trim())return void p.toast.error("Goal is required");let e=!T.find(e=>e.number===X.number);e?(O(e=>[...e,X]),F(e=>new Set([...e,X.number]))):O(e=>e.map(e=>e.number===X.number?X:e)),$(!0),ee(!1),Y(null),p.toast.success(e?"Persona added":"Persona updated")},children:T.find(e=>e.number===X.number)?"Update Persona":"Add Persona"})]})]})]})}),(0,t.jsx)(eT,{open:U,onOpenChange:q,children:(0,t.jsxs)(e$,{children:[(0,t.jsxs)(ez,{children:[(0,t.jsx)(eL,{children:"Delete Scenario"}),(0,t.jsx)(eH,{children:"Are you sure you want to delete this scenario? This action cannot be undone."})]}),(0,t.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,t.jsx)(eV,{children:"Cancel"}),(0,t.jsx)(eB,{onClick:eo,disabled:H,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:H?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Deleting..."]}):"Delete"})]})]})}),"edit"===N&&S&&(0,t.jsx)(eU,{open:K,onOpenChange:W,scenarioId:S.id,onSuccess:ed})]})}e.s(["ScenarioTasksModal",()=>eK],92180)}]);